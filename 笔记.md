## 特级课（9）

	1. 大型网站特点，大型架构（次重点）
	2. 主从数据库。 数据库读写分离。
	3. 数据库优化(面试重点)
		
		建表（ 字段类型选择、表引擎选择、字符集选择 ）

	    查询也需要优化 =》  使用到索引  
		
        架构层面需要优化

    4. 微信(2天)

	6. Composer包管理工具   (  https://packagist.org/ )

		利用composer可以搭建一个属于自己的框架   
		
		Laravel

    7.  Redis(NoSQL 非关系型数据库)
    8. 9  面试题
        
   

## 验收标准

	需要做出一个微信项目。


## 建议

	二期项目尽量上线

	微信项目


## Innodb与myisam引擎区别（重点）

	1.  事务支持情况
		
		 Innodb支持事务，myisam不支持事务

    2.  锁机制不一样
		    
         Innodb支持行锁，也有表锁。
		
		  myisam 只支持表锁


     3. 索引与数据存放位置不一样

			myisam索引与数据是分开文件存放的


## 大型网站特点（百度）

 1. 访问量大
	
		访问量大导致什么问题：
		
			1、 资源( CPU/硬盘/内存 )不够用
			2、 响应速度变慢  =》 减少对服务器请求数 
			
			如何应对访问量大的情况：
				1、 增加服务器
				2、 缓存
				3、 

 2. 高并发
	 高并发：同时访问的人数很多。

 3. 海量数据
	 百度云上有大量种子

 4. 用户分布广泛，网络情况复杂

	百度在中国各地都有用户，西北西藏网速很慢。

	服务器机房网络提供商（ 电信、联通、网通 ）：

	一般是双线。

 5.  安全环境恶劣 

	  a. SQL攻击
      b. XSS攻击
	  c. CSRF攻击
      d. 流量攻击
 	

## 面试题

1.  如何防止SQL注入（ 具体看手册的“安全” ）

     a. 利用PDO预处理功能
     b. 过滤用户提交的数据。mysqli_real_escape_string()
	 c. 永远不要使用超级用户或所有者帐号去连接数据库。要用权限被严格限制的帐号。 



### 提升技术的方法

	1.  看框架底层代码(建议你读laravel的)
	2.  写博客，多与别人交流( 在github/stackoverflow ),不要抗拒英文

    3. 看手册的用户贡献的笔记

    4. 经营一个属于自己的项目

			自己的项目可以用到你想学的技术。sphinx

### 书单
	1. 《modern PHP》
	2. 《深入面向对象第三版本》
	3. 《高性能mysql》
	4. 《高可用mysql》
	5. 《HTTP权威指南》
	

## 推荐的网址

	1.  http://www.infoq.com/
	2.  github
	3.  csdn


### 笔试

	笔试可以适度的百度。公司也是默认允许百度的。

	弊端： 时间不够。
	

### 技术发展之路
  
		php工程师 =》 mysql数据库发展  ( DBA )

	  建议：现在不要学太多的语言。nodejs/python
			我们需要做T字型人才


### 面试技术重点
	
	1. 会话控制（重点）
		
		a. SESSION与COOKIE区别与联系

			区别：
				1、 存放位置不一样
				
				2、 安全级别不同
					因为cookie是存放到客户端上，所以cookie内容可以被修改。相对cookie是不安全。不建议将一些敏感信息存放到cookie中。

					

				3、 大小不一样
					
					单个cookie保存的数据不能超过4K，很多浏览器都限制一个站点最多保存20个cookie。

					理论上认为session是无限制

			 	联系：
					
					SESSION产生SESSIONID,这个ID是通过cookie保存在客户端。

					然后下一次当同样一个客户端请求别的页面，就会在请求头中带上SESSID给到服务器。然后服务器根据ID找到存放在服务器端的session文件。

			
			b. 为什么需要会话控制？

				因为HTTP协议是无状态的协议。HTTP协议本身没有办法区分不同用户。

				如果需要区分，就应该使用会话控制


     2. 数据库基本操作( 多表联查(left join where group by ) )

	 3. 数据库优化（重点）
	
     4. 面向对象一般考概念

	 5. MVC是什么？有哪些框架是基于MVC（重点）
			
			MVC是一种分层思想，设计模式。

			M(Model)模型层，负责逻辑、数据处理

			V(View)视图层，负责显示页面

			C(Controller)控制器层，控制器就是模型与视图的桥梁。

	 6. 函数（ 每天记住5个函数 ）（重点）

	 7. 正则

			邮箱
			电话
		

	 8. 安全方面的问题  sql注入
	

     9. javascript(简单回顾就是，看之前的代码吧， 不是重点 )

	 10. ajax（ 重点 ）
				
		
		  基于MVC的框架：Laravel / Yii / Thinkphp 
			

				

					

#  大型网站演变过程

### 初始阶段

	特点：没有人访问

	
	网站没有人访问怎么办？  
        

		 我们应该推广，如何推广。

			1. 交换友情链接
			2. 百度推广  SEO
			3. 发空间说说


         地面部队=》 地推

   访问量上来了，如何应对。
	
###  增加服务器

	买多3台服务器。  

	如何架构： 1台服务器只放php代码，叫做应用服务器，一台服务器安装了mysql数据库，叫做数据库服务器,一台服务器负责存放上传文件,叫做文件服务器

	应用服务器: apache  php  

	数据库服务器: mysql
	
	文件服务器（ 七牛云存储 ）



## 缓存

	将热数据（经常被查询的数据）存放到内存缓存中。

	哪些数据被经常查询：
		
		后台需要有一个统计功能，根据统计功能得到热数据，然后将热数据存放到内存中。

		用户访问商品数据时，首先应该查询缓存中有没有对应的商品数据，如果有就直接返回。如果没有，才去数据库查询。


		你项目做了缓存，是怎么做的？
	
			后台需要有一个统计功能，根据统计功能得到热数据，然后将热数据存放到内存中。

			用户访问商品数据时，首先应该查询缓存中有没有对应的商品数据，如果有就直接返回。如果没有，才去数据库查询。


	如何加快首页（页面）响应速度：

		1. 减少页面请求数

				a.将css写到页面内部去
				b.多个小图片合并成一个大图
				c.使用浏览器缓存
						header('Cache-Control: max-age=3600*24')

				d.  使用CDN加速(一般一些jquery在公司，都可以使用cdn资源)


	京东首页是这样优化：  静态页面 +  ajax技术

			京东的首页是静态页面，然后需要数据是通过ajax拿取。

			好处： 静态页面的访问速度快。



## 增加应用服务器

		
   1   =》    3

### 负载均衡器

	负载均衡器起到分工合作的作用。

	负载均衡器：LVS（开源免费的软件）、F5(硬件，收费，很贵)

	

	






	
	

	


       
		

				

	
	
	
	















	
	
	
			
		


 
			 


			





	